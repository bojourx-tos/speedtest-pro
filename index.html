<!DOCTYPE html>
<html>
<head>
    <title>Firebase Debug</title>
</head>
<body>
    <h1>Firebase Connection Test</h1>
    <div id="status">Testing...</div>
    <button onclick="testWrite()">Test Write</button>
    <button onclick="testRead()">Test Read</button>
    
    <script>
        const FIREBASE_URL = 'https://camhack-realtime-default-rtdb.firebaseio.com/';
        
        function log(message) {
            document.getElementById('status').innerHTML += '<br>' + message;
            console.log(message);
        }
        
        async function testWrite() {
            try {
                log('Testing write...');
                const response = await fetch(FIREBASE_URL + 'test.json', {
                    method: 'PUT',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        timestamp: Date.now(),
                        message: 'test from web'
                    })
                });
                
                if (response.ok) {
                    log('✓ Write SUCCESS');
                } else {
                    log('✗ Write FAILED: ' + response.status);
                }
            } catch (error) {
                log('✗ Write ERROR: ' + error.message);
            }
        }
        
        async function testRead() {
            try {
                log('Testing read...');
                const response = await fetch(FIREBASE_URL + 'test.json');
                
                if (response.ok) {
                    const data = await response.text();
                    log('✓ Read SUCCESS: ' + data);
                } else {
                    log('✗ Read FAILED: ' + response.status);
                }
            } catch (error) {
                log('✗ Read ERROR: ' + error.message);
            }
        }
        
        // Auto test on load
        window.onload = function() {
            testWrite();
            setTimeout(testRead, 2000);
        };
    </script>
</body>
</html>
